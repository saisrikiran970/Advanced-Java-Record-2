<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Week 12 – Advanced Java Lab</title>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f9fc;
            color: #333;
            margin: 0;
            padding: 30px;
        }

        .week-content {
            max-width: 950px;
            margin: auto;
            background: #ffffff;
            padding: 30px 40px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }

        h1 {
            text-align: center;
            font-size: 32px;
            color: #2c3e50;
        }

        .meta {
            text-align: center;
            font-size: 14px;
            color: #555;
            margin-bottom: 30px;
        }

        h2 {
            font-size: 22px;
            margin-top: 30px;
            color: #1e88e5;
        }

        h3 {
            font-size: 18px;
            margin-top: 20px;
            color: #444;
        }

        p {
            font-size: 15px;
            line-height: 1.7;
            margin: 8px 0;
        }

        pre {
            background: #f4f6f8;
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            font-size: 14px;
            line-height: 1.6;
            border-left: 5px solid #1e88e5;
        }

        img {
            width: 100%;
            max-width: 760px;
            display: block;
            margin: 15px auto;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.15);
        }

        .section {
            margin-bottom: 35px;
        }
    </style>
</head>

<body>

<div class="week-content">

    <h1>Week – 12</h1>

    <div class="meta">
        <p><strong>Roll No:</strong> 238W1A1290</p>
        <p><strong>Topic:</strong> Spring JPA with Relational Database & H2</p>
    </div>

    <!-- ================= PART 1 ================= -->
    <div class="section">
        <h2>Part 1: Spring JPA with MySQL (Relational Database)</h2>

        <h3>Dependencies</h3>
        <p>Spring Web, Spring Data JPA, MySQL Driver, Thymeleaf</p>

        <h3>application.properties</h3>
        <pre>
spring.application.name=jpamysql
server.port=88

spring.datasource.url=jdbc:mysql://localhost:3306/employee_db
spring.datasource.username=root
spring.datasource.password=

spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
        </pre>

        <h3>Entity – Employee.java</h3>
        <pre>
@Entity
public class Employee {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Integer id;

    private String name;
    private String department;
}
        </pre>

        <h3>Repository</h3>
        <pre>
public interface EmployeeRepository
        extends JpaRepository<Employee, Integer> {
}
        </pre>

        <h3>Controller</h3>
        <pre>
@RestController
@RequestMapping("/api")
public class EmployeeRestController {

    @Autowired
    private EmployeeRepository repo;

    @GetMapping("/employees")
    public List<Employee> getAll() {
        return repo.findAll();
    }
}
        </pre>

        <h3>Output (MySQL + JPA)</h3>
        <img src="../images/image121.png" alt="MySQL JPA Output">
    </div>

    <!-- ================= PART 2 ================= -->
    <div class="section">
        <h2>Part 2: Spring JPA with H2 Database</h2>

        <h3>Student Entity</h3>
        <pre>
@Entity
public class Student {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    private String name;
    private String city;
}
        </pre>

        <h3>Repository</h3>
        <pre>
public interface StudentRepository
        extends JpaRepository<Student, Long> {
}
        </pre>

        <h3>Controller</h3>
        <pre>
@RestController
public class StudentController {

    @Autowired
    private StudentRepository repo;

    @GetMapping("/add")
    public String addStudent(@RequestParam String name,
                             @RequestParam String city) {
        repo.save(new Student(name, city));
        return "Student Added Successfully!";
    }

    @GetMapping("/students")
    public List<Student> getStudents() {
        return repo.findAll();
    }
}
        </pre>

        <h3>application.properties (H2)</h3>
        <pre>
spring.application.name=h2db-jpa
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.username=sa
spring.jpa.hibernate.ddl-auto=update
        </pre>

        <h3>Output (H2 + JPA)</h3>
        <img src="../images/image122.png" alt="H2 Output 1">
        <img src="../images/image123.png" alt="H2 Output 2">
        <img src="../images/image124.png" alt="H2 Output 3">
    </div>

    <!-- ================= RESULT ================= -->
    <div class="section">
        <h2>Result</h2>
        <p>
            Spring JPA was successfully implemented with both MySQL
            relational database and H2 in-memory database.
            CRUD operations and data retrieval were executed correctly.
        </p>
    </div>

</div>

</body>
</html>

